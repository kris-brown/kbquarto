
## Props - definitions and first examples


::: {.callout-tip icon=false collapse=false}
## A prop
A symmetric strict monoidal category $(\mathcal{C}, 0,+)$ for which 
$Ob(\mathcal{C})=\mathbb{N}$ and the monoidal product on objects is given by 
addition.
:::



::: {.callout-caution icon=false collapse=false}
## **FinSet** as prop
<div id="finset-prop"/></div>


- The prop **FinSet**
- Morphisms $m \xrightarrow f n$ are functions from $\bar m$ to $\bar n$.
- The identities, symmetries, and composition rule are obvious.
- The monoidal product on functions is given by the disjoint union.
  
:::

::: {.callout-caution icon=false collapse=false}
## **Bij** as prop
- Recall that a [bijection](/docs/math/sketches/1/2.qmd#function) is both surjective and injective.
- There is a prop] **Bij** where morphisms are bijections
- $m\ne n \implies$ $\mathbf{Bij}(m,n)=\varnothing)$
- **Bij** is a subcategory of **FinSet**, so we can use the same monoidal product.
  
:::

::: {.callout-caution icon=false collapse=false}
## **Correl** as prop
<div id="correl-prop"/></div>

The compact closed category **Corel** is a prop.

:::

::: {.callout-caution icon=false collapse=false}
## **Rel** as prop
<div id="rel-prop"/></div>


- There is a prop **Rel**
- Morphisms are relations $R \subseteq \bar m \times \bar n$
- Composition with $S \subseteq \bar n \times \bar p$ is
  - $\{(i, k)\ |\  \exists (i, j) \in R \land \exists (j,k) \in S\}$    
- Monoidal product is given by the coproduct, which amounts to placing the two relations side-by-side.
  
:::


::: {.callout-tip icon=false collapse=false}
## A *prop functor* $\mathcal{C} \xrightarrow F \mathcal{D}$
<div id="prop-functor"/></div>
A functor for which

- $\forall n \in \mathbb{N}: F(n)=n$
- For all $m_1 \xrightarrow f m_2$ and $n_1 \xrightarrow g n_2 \in \mathcal{C}$: $F(f))+F(g)=F(f+g) \in \mathcal{D}$

:::

::: {.callout-caution icon=false collapse=false}
## **Bij** $\rightarrow$ **FinSet** prop functor
<div id="bij-finset-prop-functor"/></div>

- The inclusion $\mathbf{Bij} \overset{i}{\hookrightarrow} \mathbf{FinSet}$ is a prop functor.
- There is a prop functor $\mathbf{Bij} \xrightarrow F \mathbf{Rel_{Fin}}$ defined by $F(\bar{m} \xrightarrow{f} \bar{n}):=\{(i,j)\ |\ f(i)=j\} \in \bar m \times \bar n$
  
:::


::: {.callout-important icon=false collapse=false}
## Exercise 5-5

1. Draw a morphism $3 \xrightarrow f 2$ and a morphism $2 \xrightarrow g 4$ in **FinSet**
2. Draw $f+g$
3. What is the natural composition rule for morphisms in **FinSet**?
4. What are the identities in **FinSet**?
5. Draw a symmetry map $\sigma_{m,n}$ for some $m,n$ in **FinSet**.

::: {.callout-note collapse=true appearance="minimal"}
## Solution
[TODO]{style="color: red; background-color: yellow;"}
:::
:::


::: {.callout-important icon=false collapse=false}
## Exercise 5-9


1. A *posetal prop* is a prop that is also a poset.
2. In other words, a symmetric monoidal preorder $(\mathbb{N}, \leq)$ for some posetal relation $\leq$, where the monoidal product is addition.
3. Give three examples of a posetal prop.
  

::: {.callout-note collapse=true appearance="minimal"}
## Solution
1. The normal meaning of $\leq$ as less than or equal to
2. The divisibility relation
3. The opposite of the first example (greater than or equal to).

:::
:::


::: {.callout-important icon=false collapse=false}
## Exercise 5-10
<div id="5-10"/></div>

For the prop **Rel**, provide the five aspects of props described above.

::: {.callout-note collapse=true appearance="minimal"}
## Solution
[TODO]{style="color: red; background-color: yellow;"}
:::
:::


## The prop of port graphs

::: {.callout-tip icon=false collapse=false}
## A *port graph*

<div id="port-graph"/></div>
- A special type of prop where morphisms are open, directed, acyclic port graphs $(V, in, out, i)$
- $V$ is a set of vertices
- functions $V \xrightarrow{in, out} \mathbb{N}$ give the *in degree* and *out degree* of each vertex
- A bijection $\bar m \sqcup O \xrightarrow{i} I \sqcup \bar n$, where $I = \{(v,i)\ |\ v \in V, 1 \leq i \leq in(v)\}$ and $O=\{(v,i)\ |\ v \in V, 1 \leq i \leq out(v))\}$ are the *vertex inputs* and *vertex outputs*, respectively.
- Furthermore, an *acyclicity condition*:
  - Use the bijection $i$ to construct the *internal flow graph*: a graph with an arrow $u \xrightarrow{e^{u,i}_{v,j}} v$ for every $i,j \in \mathbb{N}$ such that $i(u,i)=(v,j)$
  - This graph must be acyclic
    
:::


::: {.callout-caution icon=false collapse=false}
## Example port graph
<div id="ex-port-graph"/></div>

- A $(2,3)$ port-graph. [Draw this]
- Since the overall type is $(2,3)$ we know we need a box with two overall inputs and three overall outputs.
- There are three internal boxes, meaning the vertex set is $\{a, b, c\}$.
- $in(a)=1$ and $out(a)=3$ which tells us to draw one port on the LHS and three on the RHS.
- The bijection $i$ tells us how the ports are connected by wires.
- [[TODO]{style="color: red; background-color: yellow;"} Draw this]
- The acyclic internal flow graph is shown below [[TODO]{style="color: red; background-color: yellow;"} Draw this]
  

:::


::: {.callout-caution icon=false collapse=false}
## Port graph category

- A category **PG** whose objects are  natural numbers and morphisms are port graphs 
- We can compose a $(m,n)$ port graph with a $(n, p)$ port graph $(V \sqcup V',[in,in'],[out,out'], i'')$
- $V \sqcup V' \xrightarrow{[in,in']} \mathbb{N}$ maps elements of $V$ according to $in$ and elements of $V'$ according to $in'$ (likewise for *out*).
-  The bijection $\bar m \sqcup O \sqcup O' \xrightarrow{i''} I \sqcup I' \sqcup \bar p$ is defined as  $i''(x)=\begin{cases}i(x) & i(x) \in I \\ i'(i(x))& i(x) \in \bar n \\ i'(x) & x \in O' \end{cases}$ 
- The identity port graph on $n$ is  $(\varnothing, !, !, id_{\bar n})$  where $\varnothing \xrightarrow{!} \mathbb{N}$ is a unique function.
- This category is a prop.
- The monoidal product of two portgraphs... [TODO]{style="color: red; background-color: yellow;"}
  
:::


::: {.callout-important icon=false collapse=false}
## Exercise 5-16
<div id="5-16"/></div>

Describe how [port graph composition](#pg-cat) looks, with respect to the visual representation of [Example 5.14](#ex-port-graph), and give a nontrivial example

::: {.callout-note collapse=true appearance="minimal"}
## Solution
[TODO]{style="color: red; background-color: yellow;"}
:::
:::

## Free constructions and universal properties

## The free prop on a signature

## Props via presentations